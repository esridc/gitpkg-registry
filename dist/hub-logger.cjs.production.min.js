"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0});var e=require("winston");function r(t){void 0===t&&(t="");var e=/(.+?\.js):(\d+):\d+/;return(t.split("\n").find((function(t){return e.test(t)}))||"").trim()}function n(e,r,n){void 0===n&&(n={});var i=(new Date).toISOString();return Object.entries(t({level:e,timestamp:i,status:r},n)).map((function(t){return t[0]+"="+JSON.stringify(t[1])})).join(" ")}exports.HubLogger=function(){function t(t){var r,n;void 0===t&&(t={}),this.sizeLimit=null!=(r=t.sizeLimit)?r:2e5,this.globalLabels=null!=(n=t.labels)?n:{};var i=new e.transports.Console({level:t.level||"info",format:e.format.printf((function(t){return t.message})),handleExceptions:!0,handleRejections:!0});this.winstonLogger=e.createLogger({transports:[i]})}var i=t.prototype;return i.log=function(t,e,r){var i=n(t,e,Object.assign({},this.globalLabels,r));i.length>this.sizeLimit&&(i=("TOO LONG TRUNCATED "+i.slice(0,this.sizeLimit)).trim()),this.winstonLogger[t](i)},i.info=function(t,e){this.log("info",t,e)},i.debug=function(t,e){this.log("debug",t,e)},i.warn=function(t,e){this.log("warn",t,e)},i.error=function(t,e){var n;e instanceof Error?(n={errorName:e.name,errorMessage:e.message},e.stack&&(n.source=r(e.stack))):n=e,this.log("error",t,n)},t}(),exports.formatLog=n,exports.getErrorSource=r;
//# sourceMappingURL=hub-logger.cjs.production.min.js.map
